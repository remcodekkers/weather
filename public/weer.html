<html>
    <head>
        <title>weer 1.2</title>
        <style>
            body {
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script type="text/javascript">
            var places = [
                {
                    city : "Milaan", 
                    url : "https://www.buienradar.nl/weer/milaan/it/3173435",
                    weerOnline : "https://www.weeronline.nl/Europa/Italie/Milano/4878684" 
                },
                {
                    city : "Luzern", 
                    url : "https://www.buienradar.nl/weer/Luzern/CH/2659811",
                    weerOnline : "https://www.weeronline.nl/Europa/Zwitserland/Luzern/4074441" 
                },                
                {
                    city : "Florence", 
                    url : "https://www.buienradar.nl/weer/florence/it/3176959",
                    weerOnline : "https://www.weeronline.nl/Europa/Italie/Florence/4298095" 
                },
                {
                    city : "La Spezia", 
                    url : "https://www.buienradar.nl/weer/la spezia/it/3175081",
                    weerOnline : "https://www.weeronline.nl/Europa/Italie/La-Spezia/4303150" 
                },
                {
                    city : "Straatsburg", 
                    url : "https://www.buienradar.nl/weer/strasbourg/fr/2973783",
                    weerOnline : "https://www.weeronline.nl/Europa/Frankrijk/Straatsburg/4278470" 
                },
                {
                    city : "Orta San Giulio", 
                    url : "https://www.buienradar.nl/weer/orta san giulio/it/3171899",
                    weerOnline : "https://www.weeronline.nl/Europa/Italie/Orta-San-Giulio/4302272" 
                },
                {
                    city : "Stuttgart", 
                    url : "https://www.buienradar.nl/weer/stuttgart/de/2825297",
                    weerOnline : "https://www.weeronline.nl/Europa/Duitsland/Stuttgart/4099566" 
                },
                {
                    city : "Villach", 
                    url : "https://www.buienradar.nl/weer/villach/at/2762372",
                    weerOnline : "https://www.weeronline.nl/Europa/Oostenrijk/Villach/4115691" 
                },
                {
                    city : "Basel", 
                    url : "https://www.buienradar.nl/weer/Basel/CH/2661604",
                    weerOnline : "https://www.weeronline.nl/Europa/Zwitserland/Basel/4074903" 
                },
                {
                    city : "Baveno", 
                    url : "https://www.buienradar.nl/weer/Baveno/IT/3182262",
                    weerOnline : "https://www.weeronline.nl/Europa/Italie/Baveno/4303046" 
                },
                {
                    city : "Colmar", 
                    url : "https://www.buienradar.nl/weer/Colmar/FR/3024297",
                    weerOnline : "https://www.weeronline.nl/Europa/Frankrijk/Colmar/4272688" 
                }
            ];
        </script>
    </head>
    <body>
        <div id="places">

        </div>
        <script type="text/javascript">
            places.forEach( function(place) {
                var token = "VX2SU57GWR5IQDI21ACBBEZU2Z89QWKJ";
                var ttl = "43200";
                var encodedUrl = encodeURIComponent(place.url + "/14daagse");
                var brSS = `https://shot.screenshotapi.net/screenshot?token=${token}&url=${encodedUrl}&output=image&file_type=png&wait_for_event=load&selector=.buienradar-control%20.hide-buttons&ttl=${ttl}&cookies=OptanonAlertBoxClosed%3D2021-08-02T10%3A30%3A49.261Z&js=%24(%22%23onetrust-consent-sdk%2C%20.onboard-popup-container%2C%20.onboard-background%22).hide()%3B`;
                //var brSS = `https://fetchscreenshot.weer.workers.dev/ss?url=${encodedUrl}`;
                
                var WOencodedUrl = encodeURIComponent(place.weerOnline);
                var woSS = `https://shot.screenshotapi.net/screenshot?token=${token}&url=${WOencodedUrl}&output=image&file_type=png&wait_for_event=load&selector=.elFmvL&ttl=${ttl}`;
                //var woSS = `https://fetchscreenshot.weer.workers.dev/ss?url=${WOencodedUrl}`;
                
                var newPlace = `<div><h2><a target="_blank" href="${place.url}">${place.city}</a> - <a target="_blank" href="${place.weerOnline}">weer online</a></h2><div><span><img style="width:600px" src="${brSS}" /></span><span><img style="width:600px" src="${woSS}" /></span></div<</div>`;

                $("#places").append(newPlace)
            });
        </script>
        <div>
            <a target="_blank" href="https://app.screenshotapi.net/history">Screenshot API</a> | 
            <a target="_blank" href="https://github.com/remcodekkers/weather">Github</a>
        </div>
    </body>
</html>
